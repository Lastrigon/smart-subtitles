<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
</head>
<body style="font-family: 'Arial', sans-serif;">
<script type="text/javascript" src="/nowjs/now.js"></script>
<script type="text/javascript" src="jquery-1.7.2.min.js"></script>
<script type="text/javascript" src="pinyinutils.js"></script>
<script type="text/javascript" src="modernizr.js"></script>
<script type="text/javascript" src="client.js"></script>
<script type="text/javascript" src="index.js"></script>
<script type="text/javascript" src="examplevids.js"></script>

<div id='inputRegion' style='display:none;'>
<div style="position: fixed; top: 0; right: 0; text-align: right; font-size: small"><i>Contact: <a href="http://gkovacs.github.com">Geza Kovacs</a></i></div>
<div id="inputErrorRegion" style="background-color: yellow"></div>
<h4>Instructions</h2>
Provide a video (URL or local file), and Chinese subtitles (<a href="http://shooter.cn/">see here</a>), then press "Start Video".<br/>
<!--
Here are some examples (click on button to fill in the form, then press "Start Video"):<br/>
<button onclick="loadShaoLinSim()">新少林寺（简体字）</button>
<button onclick="loadShaoLin()">新少林寺（繁体字）</button><br/>
<button onclick="loadWoHuCangLongSim()">卧虎藏龙（简体字）</button>
<button onclick="loadWoHuCangLong()">卧虎藏龙（繁体字）</button><br/>
-->
<h4>Specify Video and Subtitle</h2>
Video (<span id="supportedVideoFormats">Your browser doesn't support video, use <a href="http://www.google.com/chrome">Chrome</a></span>)
<select id="urlOrFile" onchange="urlOrFileChanged()">
  <option value="file" >Local File</option>
  <option value="url" >URL</option>
</select>: <input type="file" accept="video/*" id="videoInputFile" style="width: 500px" onkeypress="textChanged()" onchange="textChanged()" onkeyup="textChanged()" /><input style="display: none; width: 500px" type="text" id="videoInputURL" style=" onkeypress="textChanged()" onchange="textChanged()" onkeyup="textChanged()" /><br />
Subtitle (<a href="http://en.wikipedia.org/wiki/SubRip#SubRip_text_file_format">SRT</a> format):
<input type="file" accept=".srt" id="srtInputFile" style="width: 500px" onkeypress="subtitleUploaded()" onchange="subtitleUploaded()" onkeyup="subtitleUploaded()" />

<br/>

<textarea id="subtitleInput" style="width: 100%; height: 200px" onkeypress="textChanged()" onchange="textChanged()" onkeyup="textChanged()"></textarea><br />
<button onclick="startPlayback()" disabled="true" id="startPlaybackButton">Start Video</button>

</div>

<div id='viewingRegion' style='display:none;'>
<div id="errorRegion" style="background-color: yellow"></div>
<video controls="controls" autoplay="autoplay" id="videoControls" ontimeupdate="onTimeChanged(this)" onerror="onVideoError(this)" onplay="videoPlaying(this)" onpause="videoPaused(this)" onfocus="this.blur()">
</video>
<br/>
<span onclick="prevButtonPressed()" style="background-color: lightgreen; display: none" id="prevLineButton">Prev Line (Ctrl⬅)</span>
<span onclick="nextButtonPressed()" style="background-color: lightgreen; display: none" id="nextLineButton">Next Line (Ctrl➡)</span>
<span onclick="flipPause()" style="background-color: lightgreen" id="playPauseButton" >Video loading, please wait</span>
<br/><br/>
<div id='subpRegion'><img id='subpDisplay'></img></div>
<div id="pinyin" style="font-size: large"></div>
<div id="caption"></div>
<div id="translation" style="font-size: medium"></div>
<div id="pronounceWidget" style="display: none"><audio onended="nextAudioItem()" onerror="nextAudioItem()" controls=""></audio></div>
</div>

</body>
</html>
